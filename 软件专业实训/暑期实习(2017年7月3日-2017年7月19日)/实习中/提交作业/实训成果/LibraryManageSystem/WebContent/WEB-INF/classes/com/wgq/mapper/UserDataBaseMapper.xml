<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.wgq.dao.UserDataBaseDao">
	<!-- 对象参数传递到了语句中，id、username 和 password 属性将会被查找，然后将它们的值传入预处理语句的参数中 -->
	<select id="queryUser" resultType="com.wgq.entity.User"
		parameterType="com.wgq.entity.User">		
		select `name`,`password`,`usertype`
		from `user`
        <where>
            <if test="name!=null and password!=null">
                and `name`=#{name}
                and `password`=#{password}
            </if>
        </where>
	</select>
	<!-- 注册 -->
	<insert id="registerUser" parameterType="com.wgq.entity.User">
	    INSERT into `user` (`name`,`password`,`age`,`sex`,`nickname`,`usertype`) values (#{name},#{password},#{age},#{sex},#{nickname},#{usertype})
	</insert>
</mapper>